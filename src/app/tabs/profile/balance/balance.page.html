<ion-content
  fullscreen
  forceOverscroll="false"
  [scrollY]="true"
  class="bg-[#f0f0f2] ion-no-padding"
>
  <div
    class="max-w-xl mx-auto px-4 pt-6 pb-24 space-y-8"
    style="padding-top: calc(env(safe-area-inset-top) + 12px)"
  >
    <div class="flex items-center justify-center relative mb-6">
      <button
        type="button"
        (click)="goBack()"
        class="absolute left-0 w-10 h-10 flex items-center justify-center"
      >
        <i class="fa-solid fa-chevron-left text-orange-500 text-lg"></i>
      </button>
      <h1 class="text-lg font-semibold text-gray-900">Saldo</h1>
    </div>

    <div class="bg-white rounded-2xl p-4 mb-4">
      <div class="flex items-start justify-between">
        <div class="flex-1">
          <div class="flex items-center gap-2 mb-1">
            <span class="text-sm text-gray-500">Saldo disponível</span>
            <button type="button" (click)="toggleBalance()">
              <i
                [class]="showBalance() ? 'fa-solid fa-eye' : 'fa-solid fa-eye-slash'"
                class="text-gray-400 text-sm"
              ></i>
            </button>
          </div>
          <div class="text-3xl font-bold text-gray-900 mb-1">
            @if (showBalance()) { {{ formatCurrency(balance()) }} } @else {
            <span class="tracking-widest">••••••</span>
            }
          </div>
          <p class="text-sm text-gray-400">
            @if (showBalance()) { {{ formatCurrency(pendingBalance()) }} a
            receber } @else {
            <span class="tracking-widest">••••••</span> a receber }
          </p>
        </div>
        <button
          type="button"
          class="flex items-center gap-2 bg-gray-100 rounded-full px-4 py-2"
        >
          <i
            class="fa-solid fa-circle-dollar-to-slot text-orange-500 text-sm"
          ></i>
          <span class="text-gray-700 font-medium text-sm">Sacar</span>
        </button>
      </div>
    </div>

    <div class="grid grid-cols-2 gap-3 mb-6">
      <button
        type="button"
        class="bg-white rounded-2xl p-4 text-left active:bg-gray-50 transition-colors shadow-sm"
      >
        <div
          class="w-10 h-10 rounded-full bg-white border border-gray-100 shadow-sm flex items-center justify-center mb-3"
        >
          <i class="fa-brands fa-pix text-gray-700 text-lg"></i>
        </div>
        <span class="text-gray-600 font-medium">Chave Pix</span>
      </button>
      <button
        type="button"
        class="bg-white rounded-2xl p-4 text-left active:bg-gray-50 transition-colors shadow-sm"
      >
        <div
          class="w-10 h-10 rounded-full bg-orange-50 border border-orange-100 shadow-sm flex items-center justify-center mb-3"
        >
          <i class="fa-solid fa-dollar-sign text-orange-500 text-lg"></i>
        </div>
        <span class="text-gray-600 font-medium">A receber</span>
      </button>
    </div>

    <div>
      <h3 class="text-xl font-bold text-gray-900 mb-4">Extrato</h3>

      @if (transactions().length === 0) {
      <div class="text-center py-8">
        <p class="text-gray-400">
          Sua conta ainda não teve nenhuma<br />movimentação.
        </p>
      </div>
      } @else {
      <div class="space-y-3">
        @for (transaction of transactions(); track transaction.id) {
        <div class="bg-white rounded-xl p-4 flex items-center justify-between">
          <div class="flex items-center gap-3">
            <div
              class="w-10 h-10 rounded-full flex items-center justify-center"
              [class]="transaction.type === 'credit' ? 'bg-green-50' : 'bg-red-50'"
            >
              <i
                [class]="transaction.type === 'credit' ? 'fa-solid fa-arrow-down text-green-500' : 'fa-solid fa-arrow-up text-red-500'"
                class="text-sm"
              ></i>
            </div>
            <div>
              <p class="font-medium text-gray-900">
                {{ transaction.description }}
              </p>
              <p class="text-sm text-gray-400">{{ transaction.date }}</p>
            </div>
          </div>
          <span
            [class]="transaction.type === 'credit' ? 'text-green-600' : 'text-red-600'"
            class="font-semibold"
          >
            {{ transaction.type === 'credit' ? '+' : '-' }} {{
            formatCurrency(transaction.amount) }}
          </span>
        </div>
        }
      </div>
      }
    </div>
  </div>
</ion-content>
