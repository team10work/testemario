{
	"version": "2.0.0",
	"tasks": [
		{
			"label": "rewrite-schedule",
			"type": "shell",
			"command": "cd /Users/mariocoxe/Documents/projects/challenge/testemario && cat <<'TS_EOF' > src/app/tabs/schedule/schedule.page.ts\nimport { CommonModule } from '@angular/common';\nimport { Component, computed, signal } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport {\n  IonButton,\n  IonButtons,\n  IonCol,\n  IonContent,\n  IonDatetime,\n  IonHeader,\n  IonIcon,\n  IonInput,\n  IonItem,\n  IonLabel,\n  IonList,\n  IonModal,\n  IonRow,\n  IonTitle,\n  IonToolbar,\n  IonGrid,\n  IonNote,\n} from '@ionic/angular/standalone';\nimport { addIcons } from 'ionicons';\nimport {\n  addOutline,\n  chevronBackOutline,\n  chevronForwardOutline,\n  closeOutline,\n  createOutline,\n  trashOutline,\n  timeOutline,\n} from 'ionicons/icons';\n\ntype FormState = {\n  title: string;\n  date: string;\n  start: string;\n  end: string;\n};\n\ntype Activity = FormState & { id: string };\n\ntype CalendarCell = {\n  date: Date;\n  iso: string;\n  inMonth: boolean;\n  isToday: boolean;\n};\n\n@Component({\n  standalone: true,\n  selector: 'app-schedule',\n  templateUrl: './schedule.page.html',\n  styleUrls: ['./schedule.page.scss'],\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonButton,\n    IonButtons,\n    IonCol,\n    IonContent,\n    IonDatetime,\n    IonHeader,\n    IonIcon,\n    IonInput,\n    IonItem,\n    IonLabel,\n    IonList,\n    IonModal,\n    IonRow,\n    IonTitle,\n    IonToolbar,\n    IonGrid,\n    IonNote,\n  ],\n})\nexport class SchedulePage {\n  readonly weekdayLabels = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];\n  readonly today = new Date();\n\n  readonly currentYear = signal(this.today.getFullYear());\n  readonly currentMonth = signal(this.today.getMonth());\n\n  readonly modalOpen = signal(false);\n  readonly editing = signal<Activity | null>(null);\n  readonly form = signal<FormState>(this.buildBlankForm(this.today));\n  readonly activities = signal<Activity[]>([]);\n\n  readonly monthLabel = computed(() =>\n    new Intl.DateTimeFormat('en-US', { month: 'long', year: 'numeric' }).format(\n      new Date(this.currentYear(), this.currentMonth(), 1)\n    )\n  );\n\n  readonly calendar = computed(() =>\n    this.buildCalendar(this.currentYear(), this.currentMonth())\n  );\n\n  constructor() {\n    addIcons({\n      addOutline,\n      chevronBackOutline,\n      chevronForwardOutline,\n      closeOutline,\n      createOutline,\n      trashOutline,\n      timeOutline,\n    });\n  }\n\n  prevMonth(): void {\n    const next = new Date(this.currentYear(), this.currentMonth() - 1, 1);\n    this.currentYear.set(next.getFullYear());\n    this.currentMonth.set(next.getMonth());\n  }\n\n  nextMonth(): void {\n    const next = new Date(this.currentYear(), this.currentMonth() + 1, 1);\n    this.currentYear.set(next.getFullYear());\n    this.currentMonth.set(next.getMonth());\n  }\n\n  openCreate(date?: Date): void {\n    const target = date ?? new Date(this.currentYear(), this.currentMonth(), 1);\n    this.editing.set(null);\n    this.form.set(this.buildBlankForm(target));\n    this.modalOpen.set(true);\n  }\n\n  openEdit(activity: Activity): void {\n    this.editing.set(activity);\n    this.form.set({\n      title: activity.title,\n      date: activity.date,\n      start: activity.start,\n      end: activity.end,\n    });\n    this.modalOpen.set(true);\n  }\n\n  onDateChange(event: CustomEvent): void {\n    const value = (event.detail as { value?: string | null }).value;\n    if (!value) return;\n    this.updateForm('date', value.slice(0, 10));\n  }\n\n  updateForm<K extends keyof FormState>(key: K, value: FormState[K]): void {\n    this.form.update((current) => ({ ...current, [key]: value }));\n  }\n\n  saveActivity(): void {\n    const form = this.form();\n    const title = form.title.trim();\n\n    if (!title) {\n      this.closeModal();\n      return;\n    }\n\n    const payload: Activity = {\n      id: this.editing()?.id ?? this.newId(),\n      title,\n      date: form.date,\n      start: form.start,\n      end: form.end,\n    };\n\n    if (this.editing()) {\n      this.activities.update((list) =>\n        list.map((item) => (item.id === payload.id ? payload : item))\n      );\n    } else {\n      this.activities.update((list) => [...list, payload]);\n    }\n\n    this.modalOpen.set(false);\n  }\n\n  deleteActivity(): void {\n    const editing = this.editing();\n    if (!editing) return;\n\n    this.activities.update((list) =>\n      list.filter((item) => item.id !== editing.id)\n    );\n\n    this.modalOpen.set(false);\n  }\n\n  closeModal(): void {\n    this.modalOpen.set(false);\n  }\n\n  activitiesForDate(iso: string): Activity[] {\n    return this.activities().filter((item) => item.date === iso);\n  }\n\n  private buildCalendar(year: number, month: number): CalendarCell[][] {\n    const firstOfMonth = new Date(year, month, 1);\n    const start = new Date(firstOfMonth);\n    start.setDate(start.getDate() - start.getDay());\n\n    const weeks: CalendarCell[][] = [];\n    const cursor = new Date(start);\n\n    for (let weekIndex = 0; weekIndex < 6; weekIndex += 1) {\n      const week: CalendarCell[] = [];\n\n      for (let dayIndex = 0; dayIndex < 7; dayIndex += 1) {\n        const date = new Date(cursor);\n        week.push({\n          date,\n          iso: this.toDateInput(date),\n          inMonth: date.getMonth() === month,\n          isToday: this.isSameDate(date, this.today),\n        });\n        cursor.setDate(cursor.getDate() + 1);\n      }\n\n      weeks.push(week);\n    }\n\n    return weeks;\n  }\n\n  private buildBlankForm(date: Date): FormState {\n    return {\n      title: '',\n      date: this.toDateInput(date),\n      start: '09:00',\n      end: '10:00',\n    };\n  }\n\n  private toDateInput(date: Date): string {\n    return date.toISOString().slice(0, 10);\n  }\n\n  private isSameDate(a: Date, b: Date): boolean {\n    return (\n      a.getFullYear() === b.getFullYear() &&\n      a.getMonth() === b.getMonth() &&\n      a.getDate() === b.getDate()\n    );\n  }\n\n  private newId(): string {\n    if (typeof crypto !== 'undefined' && 'randomUUID' in crypto) {\n      return (crypto as Crypto).randomUUID();\n    }\n\n    return Math.random().toString(36).slice(2);\n  }\n}\nTS_EOF\n\ncat <<'HTML_EOF' > src/app/tabs/schedule/schedule.page.html\n<ion-header>\n  <ion-toolbar>\n    <ion-title>Schedule</ion-title>\n    <ion-buttons slot=\"end\">\n      <ion-button fill=\"clear\" color=\"primary\" (click)=\"openCreate()\">\n        <ion-icon slot=\"start\" name=\"add-outline\"></ion-icon>\n        Add\n      </ion-button>\n    </ion-buttons>\n  </ion-toolbar>\n</ion-header>\n\n<ion-content class=\"ion-padding\">\n  <div class=\"calendar-card\">\n    <div class=\"month-bar\">\n      <ion-button fill=\"clear\" size=\"small\" (click)=\"prevMonth()\">\n        <ion-icon slot=\"icon-only\" name=\"chevron-back-outline\"></ion-icon>\n      </ion-button>\n      <div class=\"month-label\">{{ monthLabel() }}</div>\n      <ion-button fill=\"clear\" size=\"small\" (click)=\"nextMonth()\">\n        <ion-icon slot=\"icon-only\" name=\"chevron-forward-outline\"></ion-icon>\n      </ion-button>\n    </div>\n\n    <ion-grid class=\"calendar-grid\">\n      <ion-row class=\"weekday-row\">\n        <ion-col *ngFor=\"let day of weekdayLabels\" class=\"weekday-cell\">\n          {{ day }}\n        </ion-col>\n      </ion-row>\n\n      <ion-row *ngFor=\"let week of calendar()\">\n        <ion-col\n          *ngFor=\"let cell of week\"\n          class=\"day-cell\"\n          [class.outside]=\"!cell.inMonth\"\n          [class.today]=\"cell.isToday\"\n          (click)=\"openCreate(cell.date)\"\n        >\n          <div class=\"date-chip\">{{ cell.date.getDate() }}</div>\n\n          <div\n            class=\"activity-pill\"\n            *ngFor=\"let activity of activitiesForDate(cell.iso)\"\n            (click)=\"$event.stopPropagation(); openEdit(activity);\"\n          >\n            <div>\n              <div class=\"activity-title\">{{ activity.title }}</div>\n              <div class=\"activity-time\">\n                <ion-icon name=\"time-outline\"></ion-icon>\n                <span>{{ activity.start }} – {{ activity.end }}</span>\n              </div>\n            </div>\n            <ion-icon name=\"create-outline\"></ion-icon>\n          </div>\n        </ion-col>\n      </ion-row>\n    </ion-grid>\n  </div>\n\n  <ion-modal [isOpen]=\"modalOpen()\" (didDismiss)=\"closeModal()\">\n    <ng-template>\n      <div class=\"modal-card\">\n        <div class=\"modal-header\">\n          <h2>{{ editing() ? 'Edit activity' : 'Add activity' }}</h2>\n          <ion-button fill=\"clear\" size=\"small\" (click)=\"closeModal()\">\n            <ion-icon slot=\"icon-only\" name=\"close-outline\"></ion-icon>\n          </ion-button>\n        </div>\n\n        <ion-list lines=\"full\">\n          <ion-item>\n            <ion-label position=\"stacked\">Title</ion-label>\n            <ion-input\n              [ngModel]=\"form().title\"\n              (ngModelChange)=\"updateForm('title', $event)\"\n              placeholder=\"Team sync\"\n              inputmode=\"text\"\n            ></ion-input>\n          </ion-item>\n          <ion-item>\n            <ion-label position=\"stacked\">Date</ionlabel>\n            <ion-datetime\n              presentation=\"date\"\n              [value]=\"form().date\"\n              (ionChange)=\"onDateChange($event)\"\n            ></ion-datetime>\n          </ion-item>\n          <ion-item>\n            <ion-label position=\"stacked\">Start</ion-label>\n            <ion-input\n              type=\"time\"\n              [ngModel]=\"form().start\"\n              (ngModelChange)=\"updateForm('start', $event)\"\n            ></ion-input>\n          </ion-item>\n          <ion-item>\n            <ion-label position=\"stacked\">End</ion-label>\n            <ion-input\n              type=\"time\"\n              [ngModel]=\"form().end\"\n              (ngModelChange)=\"updateForm('end', $event)\"\n            ></ion-input>\n          </ion-item>\n          <ion-note class=\"hint\" color=\"medium\">\n            Times stay local; adjust as needed.\n          </ion-note>\n        </ion-list>\n\n        <div class=\"modal-actions\">\n          <ion-button expand=\"block\" class=\"primary-btn\" (click)=\"saveActivity()\">\n            <ion-icon slot=\"start\" [name]=\"editing() ? 'create-outline' : 'add-outline'\"></ion-icon>\n            {{ editing() ? 'Save changes' : 'Add activity' }}\n          </ion-button>\n          <ion-button\n            *ngIf=\"editing()\"\n            expand=\"block\"\n            fill=\"outline\"\n            color=\"danger\"\n            (click)=\"deleteActivity()\"\n          >\n            <ion-icon slot=\"start\" name=\"trash-outline\"></ion-icon>\n            Delete activity\n          </ion-button>\n        </div>\n      </div>\n    </ng-template>\n  </ion-modal>\n</ion-content>\nHTML_EOF\n\ncat <<'SCSS_EOF' > src/app/tabs/schedule/schedule.page.scss\n:host {\n  --schedule-orange: #f97316;\n}\n\n.calendar-card {\n  background: #ffffff;\n  border-radius: 16px;\n  box-shadow: 0 12px 32px rgba(0, 0, 0, 0.08);\n  padding: 12px;\n}\n\n.month-bar {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  gap: 8px;\n  padding: 8px;\n  font-weight: 600;\n}\n\n.month-label {\n  font-size: 1.1rem;\n}\n\n.weekday-row {\n  margin-bottom: 8px;\n}\n\n.weekday-cell {\n  text-align: center;\n  font-weight: 600;\n  color: #6b7280;\n}\n\n.calendar-grid ion-col {\n  min-height: 120px;\n  padding: 8px;\n  border-radius: 12px;\n  background: #f7f7fb;\n  border: 1px solid #ececf5;\n  transition: box-shadow 0.2s ease, transform 0.2s ease;\n  cursor: pointer;\n}\n\n.calendar-grid ion-col:hover {\n  box-shadow: 0 10px 20px rgba(0, 0, 0, 0.08);\n  transform: translateY(-2px);\n}\n\n.calendar-grid ion-col.today {\n  border-color: var(--schedule-orange);\n  box-shadow: 0 10px 24px rgba(249, 115, 22, 0.32);\n}\n\n.calendar-grid ion-col.outside {\n  opacity: 0.45;\n}\n\n.date-chip {\n  width: 34px;\n  height: 34px;\n  border-radius: 10px;\n  background: #ffffff;\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  font-weight: 700;\n  color: #111827;\n  margin-bottom: 4px;\n}\n\n.activity-pill {\n  background: linear-gradient(135deg, #fb923c, #f97316);\n  color: #ffffff;\n  border-radius: 12px;\n  padding: 8px 10px;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  gap: 10px;\n  font-size: 13px;\n  margin-top: 6px;\n}\n\n.activity-title {\n  font-weight: 700;\n}\n\n.activity-time {\n  display: flex;\n  align-items: center;\n  gap: 6px;\n  font-size: 12px;\n  opacity: 0.9;\n}\n\n.modal-card {\n  padding: 16px;\n}\n\n.modal-header {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin-bottom: 4px;\n}\n\n.modal-actions {\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n  margin-top: 14px;\n}\n\n.primary-btn {\n  --background: linear-gradient(135deg, #fb923c, #f97316);\n  --background-activated: #f97316;\n  --color: #ffffff;\n  --border-radius: 12px;\n  font-weight: 700;\n}\n\n.hint {\n  margin: 10px 16px 0;\n}\nSCSS_EOF",
			"group": "build"
		},
		{
			"label": "check-schedule-size",
			"type": "shell",
			"command": "cd /Users/mariocoxe/Documents/projects/challenge/testemario && stat -f%z src/app/tabs/schedule/schedule.page.ts && stat -f%z src/app/tabs/schedule/schedule.page.html && stat -f%z src/app/tabs/schedule/schedule.page.scss",
			"group": "build"
		},
		{
			"label": "show-schedule",
			"type": "shell",
			"command": "cd /Users/mariocoxe/Documents/projects/challenge/testemario && nl -ba src/app/tabs/schedule/schedule.page.ts",
			"group": "build"
		},
		{
			"label": "show-schedule-head",
			"type": "shell",
			"command": "cd /Users/mariocoxe/Documents/projects/challenge/testemario && sed -n '1,200p' src/app/tabs/schedule/schedule.page.ts",
			"group": "build"
		},
		{
			"label": "rewrite-schedule-clean",
			"type": "shell",
			"command": "cd /Users/mariocoxe/Documents/projects/challenge/testemario && cat <<'TS_EOF' > src/app/tabs/schedule/schedule.page.ts\nimport { CommonModule } from '@angular/common';\nimport { Component, computed, signal } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport {\n  IonButton,\n  IonButtons,\n  IonCol,\n  IonContent,\n  IonDatetime,\n  IonHeader,\n  IonIcon,\n  IonInput,\n  IonItem,\n  IonLabel,\n  IonList,\n  IonModal,\n  IonRow,\n  IonTitle,\n  IonToolbar,\n  IonGrid,\n  IonNote,\n} from '@ionic/angular/standalone';\nimport { addIcons } from 'ionicons';\nimport {\n  addOutline,\n  chevronBackOutline,\n  chevronForwardOutline,\n  closeOutline,\n  createOutline,\n  trashOutline,\n  timeOutline,\n} from 'ionicons/icons';\n\ntype FormState = {\n  title: string;\n  date: string;\n  start: string;\n  end: string;\n};\n\ntype Activity = FormState & { id: string };\n\ntype CalendarCell = {\n  date: Date;\n  iso: string;\n  inMonth: boolean;\n  isToday: boolean;\n};\n\n@Component({\n  standalone: true,\n  selector: 'app-schedule',\n  templateUrl: './schedule.page.html',\n  styleUrls: ['./schedule.page.scss'],\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonButton,\n    IonButtons,\n    IonCol,\n    IonContent,\n    IonDatetime,\n    IonHeader,\n    IonIcon,\n    IonInput,\n    IonItem,\n    IonLabel,\n    IonList,\n    IonModal,\n    IonRow,\n    IonTitle,\n    IonToolbar,\n    IonGrid,\n    IonNote,\n  ],\n})\nexport class SchedulePage {\n  readonly weekdayLabels = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];\n  readonly today = new Date();\n\n  readonly currentYear = signal(this.today.getFullYear());\n  readonly currentMonth = signal(this.today.getMonth());\n\n  readonly modalOpen = signal(false);\n  readonly editing = signal<Activity | null>(null);\n  readonly form = signal<FormState>(this.buildBlankForm(this.today));\n  readonly activities = signal<Activity[]>([]);\n\n  readonly monthLabel = computed(() =>\n    new Intl.DateTimeFormat('en-US', { month: 'long', year: 'numeric' }).format(\n      new Date(this.currentYear(), this.currentMonth(), 1)\n    )\n  );\n\n  readonly calendar = computed(() =>\n    this.buildCalendar(this.currentYear(), this.currentMonth())\n  );\n\n  constructor() {\n    addIcons({\n      addOutline,\n      chevronBackOutline,\n      chevronForwardOutline,\n      closeOutline,\n      createOutline,\n      trashOutline,\n      timeOutline,\n    });\n  }\n\n  prevMonth(): void {\n    const next = new Date(this.currentYear(), this.currentMonth() - 1, 1);\n    this.currentYear.set(next.getFullYear());\n    this.currentMonth.set(next.getMonth());\n  }\n\n  nextMonth(): void {\n    const next = new Date(this.currentYear(), this.currentMonth() + 1, 1);\n    this.currentYear.set(next.getFullYear());\n    this.currentMonth.set(next.getMonth());\n  }\n\n  openCreate(date?: Date): void {\n    const target = date ?? new Date(this.currentYear(), this.currentMonth(), 1);\n    this.editing.set(null);\n    this.form.set(this.buildBlankForm(target));\n    this.modalOpen.set(true);\n  }\n\n  openEdit(activity: Activity): void {\n    this.editing.set(activity);\n    this.form.set({\n      title: activity.title,\n      date: activity.date,\n      start: activity.start,\n      end: activity.end,\n    });\n    this.modalOpen.set(true);\n  }\n\n  onDateChange(event: CustomEvent): void {\n    const value = (event.detail as { value?: string | null }).value;\n    if (!value) return;\n    this.updateForm('date', value.slice(0, 10));\n  }\n\n  updateForm<K extends keyof FormState>(key: K, value: FormState[K]): void {\n    this.form.update((current) => ({ ...current, [key]: value }));\n  }\n\n  saveActivity(): void {\n    const form = this.form();\n    const title = form.title.trim();\n\n    if (!title) {\n      this.closeModal();\n      return;\n    }\n\n    const payload: Activity = {\n      id: this.editing()?.id ?? this.newId(),\n      title,\n      date: form.date,\n      start: form.start,\n      end: form.end,\n    };\n\n    if (this.editing()) {\n      this.activities.update((list) =>\n        list.map((item) => (item.id === payload.id ? payload : item))\n      );\n    } else {\n      this.activities.update((list) => [...list, payload]);\n    }\n\n    this.modalOpen.set(false);\n  }\n\n  deleteActivity(): void {\n    const editing = this.editing();\n    if (!editing) return;\n\n    this.activities.update((list) =>\n      list.filter((item) => item.id !== editing.id)\n    );\n\n    this.modalOpen.set(false);\n  }\n\n  closeModal(): void {\n    this.modalOpen.set(false);\n  }\n\n  activitiesForDate(iso: string): Activity[] {\n    return this.activities().filter((item) => item.date === iso);\n  }\n\n  private buildCalendar(year: number, month: number): CalendarCell[][] {\n    const firstOfMonth = new Date(year, month, 1);\n    const start = new Date(firstOfMonth);\n    start.setDate(start.getDate() - start.getDay());\n\n    const weeks: CalendarCell[][] = [];\n    const cursor = new Date(start);\n\n    for (let weekIndex = 0; weekIndex < 6; weekIndex += 1) {\n      const week: CalendarCell[] = [];\n\n      for (let dayIndex = 0; dayIndex < 7; dayIndex += 1) {\n        const date = new Date(cursor);\n        week.push({\n          date,\n          iso: this.toDateInput(date),\n          inMonth: date.getMonth() === month,\n          isToday: this.isSameDate(date, this.today),\n        });\n        cursor.setDate(cursor.getDate() + 1);\n      }\n\n      weeks.push(week);\n    }\n\n    return weeks;\n  }\n\n  private buildBlankForm(date: Date): FormState {\n    return {\n      title: '',\n      date: this.toDateInput(date),\n      start: '09:00',\n      end: '10:00',\n    };\n  }\n\n  private toDateInput(date: Date): string {\n    return date.toISOString().slice(0, 10);\n  }\n\n  private isSameDate(a: Date, b: Date): boolean {\n    return (\n      a.getFullYear() === b.getFullYear() &&\n      a.getMonth() === b.getMonth() &&\n      a.getDate() === b.getDate()\n    );\n  }\n\n  private newId(): string {\n    if (typeof crypto !== 'undefined' && 'randomUUID' in crypto) {\n      return (crypto as Crypto).randomUUID();\n    }\n\n    return Math.random().toString(36).slice(2);\n  }\n}\nTS_EOF\n\ncat <<'HTML_EOF' > src/app/tabs/schedule/schedule.page.html\n<ion-header>\n  <ion-toolbar>\n    <ion-title>Schedule</ion-title>\n    <ion-buttons slot=\"end\">\n      <ion-button fill=\"clear\" color=\"primary\" (click)=\"openCreate()\">\n        <ion-icon slot=\"start\" name=\"add-outline\"></ion-icon>\n        Add\n      </ion-button>\n    </ion-buttons>\n  </ion-toolbar>\n</ion-header>\n\n<ion-content class=\"ion-padding\">\n  <div class=\"calendar-card\">\n    <div class=\"month-bar\">\n      <ion-button fill=\"clear\" size=\"small\" (click)=\"prevMonth()\">\n        <ion-icon slot=\"icon-only\" name=\"chevron-back-outline\"></ion-icon>\n      </ion-button>\n      <div class=\"month-label\">{{ monthLabel() }}</div>\n      <ion-button fill=\"clear\" size=\"small\" (click)=\"nextMonth()\">\n        <ion-icon slot=\"icon-only\" name=\"chevron-forward-outline\"></ion-icon>\n      </ion-button>\n    </div>\n\n    <ion-grid class=\"calendar-grid\">\n      <ion-row class=\"weekday-row\">\n        <ion-col *ngFor=\"let day of weekdayLabels\" class=\"weekday-cell\">\n          {{ day }}\n        </ion-col>\n      </ion-row>\n\n      <ion-row *ngFor=\"let week of calendar()\">\n        <ion-col\n          *ngFor=\"let cell of week\"\n          class=\"day-cell\"\n          [class.outside]=\"!cell.inMonth\"\n          [class.today]=\"cell.isToday\"\n          (click)=\"openCreate(cell.date)\"\n        >\n          <div class=\"date-chip\">{{ cell.date.getDate() }}</div>\n\n          <div\n            class=\"activity-pill\"\n            *ngFor=\"let activity of activitiesForDate(cell.iso)\"\n            (click)=\"$event.stopPropagation(); openEdit(activity);\"\n          >\n            <div>\n              <div class=\"activity-title\">{{ activity.title }}</div>\n              <div class=\"activity-time\">\n                <ion-icon name=\"time-outline\"></ion-icon>\n                <span>{{ activity.start }} – {{ activity.end }}</span>\n              </div>\n            </div>\n            <ion-icon name=\"create-outline\"></ion-icon>\n          </div>\n        </ion-col>\n      </ion-row>\n    </ion-grid>\n  </div>\n\n  <ion-modal [isOpen]=\"modalOpen()\" (didDismiss)=\"closeModal()\">\n    <ng-template>\n      <div class=\"modal-card\">\n        <div class=\"modal-header\">\n          <h2>{{ editing() ? 'Edit activity' : 'Add activity' }}</h2>\n          <ion-button fill=\"clear\" size=\"small\" (click)=\"closeModal()\">\n            <ion-icon slot=\"icon-only\" name=\"close-outline\"></ion-icon>\n          </ion-button>\n        </div>\n\n        <ion-list lines=\"full\">\n          <ion-item>\n            <ion-label position=\"stacked\">Title</ion-label>\n            <ion-input\n              [ngModel]=\"form().title\"\n              (ngModelChange)=\"updateForm('title', $event)\"\n              placeholder=\"Team sync\"\n              inputmode=\"text\"\n            ></ion-input>\n          </ion-item>\n          <ion-item>\n            <ion-label position=\"stacked\">Date</ion-label>\n            <ion-datetime\n              presentation=\"date\"\n              [value]=\"form().date\"\n              (ionChange)=\"onDateChange($event)\"\n            ></ion-datetime>\n          </ion-item>\n          <ion-item>\n            <ion-label position=\"stacked\">Start</ion-label>\n            <ion-input\n              type=\"time\"\n              [ngModel]=\"form().start\"\n              (ngModelChange)=\"updateForm('start', $event)\"\n            ></ion-input>\n          </ion-item>\n          <ion-item>\n            <ion-label position=\"stacked\">End</ion-label>\n            <ion-input\n              type=\"time\"\n              [ngModel]=\"form().end\"\n              (ngModelChange)=\"updateForm('end', $event)\"\n            ></ion-input>\n          </ion-item>\n          <ion-note class=\"hint\" color=\"medium\">\n            Times stay local; adjust as needed.\n          </ion-note>\n        </ion-list>\n\n        <div class=\"modal-actions\">\n          <ion-button expand=\"block\" class=\"primary-btn\" (click)=\"saveActivity()\">\n            <ion-icon slot=\"start\" [name]=\"editing() ? 'create-outline' : 'add-outline'\"></ion-icon>\n            {{ editing() ? 'Save changes' : 'Add activity' }}\n          </ion-button>\n          <ion-button\n            *ngIf=\"editing()\"\n            expand=\"block\"\n            fill=\"outline\"\n            color=\"danger\"\n            (click)=\"deleteActivity()\"\n          >\n            <ion-icon slot=\"start\" name=\"trash-outline\"></ion-icon>\n            Delete activity\n          </ion-button>\n        </div>\n      </div>\n    </ng-template>\n  </ion-modal>\n</ion-content>\nHTML_EOF\n\ncat <<'SCSS_EOF' > src/app/tabs/schedule/schedule.page.scss\n:host {\n  --schedule-orange: #f97316;\n}\n\n.calendar-card {\n  background: #ffffff;\n  border-radius: 16px;\n  box-shadow: 0 12px 32px rgba(0, 0, 0, 0.08);\n  padding: 12px;\n}\n\n.month-bar {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  gap: 8px;\n  padding: 8px;\n  font-weight: 600;\n}\n\n.month-label {\n  font-size: 1.1rem;\n}\n\n.weekday-row {\n  margin-bottom: 8px;\n}\n\n.weekday-cell {\n  text-align: center;\n  font-weight: 600;\n  color: #6b7280;\n}\n\n.calendar-grid ion-col {\n  min-height: 120px;\n  padding: 8px;\n  border-radius: 12px;\n  background: #f7f7fb;\n  border: 1px solid #ececf5;\n  transition: box-shadow 0.2s ease, transform 0.2s ease;\n  cursor: pointer;\n}\n\n.calendar-grid ion-col:hover {\n  box-shadow: 0 10px 20px rgba(0, 0, 0, 0.08);\n  transform: translateY(-2px);\n}\n\n.calendar-grid ion-col.today {\n  border-color: var(--schedule-orange);\n  box-shadow: 0 10px 24px rgba(249, 115, 22, 0.32);\n}\n\n.calendar-grid ion-col.outside {\n  opacity: 0.45;\n}\n\n.date-chip {\n  width: 34px;\n  height: 34px;\n  border-radius: 10px;\n  background: #ffffff;\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  font-weight: 700;\n  color: #111827;\n  margin-bottom: 4px;\n}\n\n.activity-pill {\n  background: linear-gradient(135deg, #fb923c, #f97316);\n  color: #ffffff;\n  border-radius: 12px;\n  padding: 8px 10px;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  gap: 10px;\n  font-size: 13px;\n  margin-top: 6px;\n}\n\n.activity-title {\n  font-weight: 700;\n}\n\n.activity-time {\n  display: flex;\n  align-items: center;\n  gap: 6px;\n  font-size: 12px;\n  opacity: 0.9;\n}\n\n.modal-card {\n  padding: 16px;\n}\n\n.modal-header {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin-bottom: 4px;\n}\n\n.modal-actions {\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n  margin-top: 14px;\n}\n\n.primary-btn {\n  --background: linear-gradient(135deg, #fb923c, #f97316);\n  --background-activated: #f97316;\n  --color: #ffffff;\n  --border-radius: 12px;\n  font-weight: 700;\n}\n\n.hint {\n  margin: 10px 16px 0;\n}\nSCSS_EOF",
			"group": "build"
		},
		{
			"label": "view-schedule-ts",
			"type": "shell",
			"command": "cd /Users/mariocoxe/Documents/projects/challenge/testemario && sed -n '1,240p' src/app/tabs/schedule/schedule.page.ts",
			"group": "build"
		},
		{
			"label": "view-schedule-ts-head",
			"type": "shell",
			"command": "cd /Users/mariocoxe/Documents/projects/challenge/testemario && head -n 120 src/app/tabs/schedule/schedule.page.ts",
			"group": "build"
		},
		{
			"label": "view-schedule-ts-full",
			"type": "shell",
			"command": "cd /Users/mariocoxe/Documents/projects/challenge/testemario && awk '{print NR\"|\"$0}' src/app/tabs/schedule/schedule.page.ts",
			"group": "build"
		},
		{
			"label": "view-schedule-ts-start",
			"type": "shell",
			"command": "cd /Users/mariocoxe/Documents/projects/challenge/testemario && awk 'NR>=1&&NR<=160{print NR\"|\"$0}' src/app/tabs/schedule/schedule.page.ts",
			"group": "build"
		},
		{
			"label": "view-schedule-ts-raw",
			"type": "shell",
			"command": "cd /Users/mariocoxe/Documents/projects/challenge/testemario && perl -ne 'printf \"%d|%s\", $. , $_' src/app/tabs/schedule/schedule.page.ts",
			"group": "build"
		},
		{
			"label": "view-schedule-top-80",
			"type": "shell",
			"command": "cd /Users/mariocoxe/Documents/projects/challenge/testemario && perl -ne 'if($.<=80){printf \"%d|%s\", $. , $_}' src/app/tabs/schedule/schedule.page.ts",
			"group": "build"
		},
		{
			"label": "view-schedule-top-120",
			"type": "shell",
			"command": "cd /Users/mariocoxe/Documents/projects/challenge/testemario && perl -ne 'if($.<=120){printf \"%d|%s\", $. , $_}' src/app/tabs/schedule/schedule.page.ts",
			"group": "build"
		},
		{
			"label": "check-schedule-ts",
			"type": "shell",
			"command": "cd /Users/mariocoxe/Documents/projects/challenge/testemario && perl -ne 'if($.<=80){printf \"%d|%s\", $. , $_}' src/app/tabs/schedule/schedule.page.ts",
			"group": "build"
		},
		{
			"label": "check-schedule-methods",
			"type": "shell",
			"command": "cd /Users/mariocoxe/Documents/projects/challenge/testemario && perl -ne 'if($.>=100 && $.<=180){printf \"%d|%s\", $. , $_}' src/app/tabs/schedule/schedule.page.ts",
			"group": "build"
		},
		{
			"label": "check-missing-methods",
			"type": "shell",
			"command": "cd /Users/mariocoxe/Documents/projects/challenge/testemario && grep -n 'calendar\\|goToday\\|getTotalEvents\\|getWeekEvents\\|getUpcomingEvents\\|getCompletedEvents\\|getActivityColor\\|eventTypes' src/app/tabs/schedule/schedule.page.ts | head -40",
			"group": "build"
		},
		{
			"label": "check-build-calendar",
			"type": "shell",
			"command": "cd /Users/mariocoxe/Documents/projects/challenge/testemario && perl -ne 'if($.>=370 && $.<=430){printf \"%d|%s\", $. , $_}' src/app/tabs/schedule/schedule.page.ts",
			"group": "build"
		},
		{
			"label": "check-build-calendar-2",
			"type": "shell",
			"command": "cd /Users/mariocoxe/Documents/projects/challenge/testemario && perl -ne 'if($.>=375 && $.<=420){printf \"%d|%s\", $. , $_}' src/app/tabs/schedule/schedule.page.ts",
			"group": "build"
		},
		{
			"label": "check-build-calendar-full",
			"type": "shell",
			"command": "cd /Users/mariocoxe/Documents/projects/challenge/testemario && perl -ne 'if($.>=370 && $.<=412){printf \"%d|%s\", $. , $_}' src/app/tabs/schedule/schedule.page.ts",
			"group": "build"
		},
		{
			"label": "show-build-calendar",
			"type": "shell",
			"command": "cd /Users/mariocoxe/Documents/projects/challenge/testemario && awk 'NR>=370 && NR<=395' src/app/tabs/schedule/schedule.page.ts",
			"group": "build"
		},
		{
			"label": "check-calendar-computed",
			"type": "shell",
			"command": "cd /Users/mariocoxe/Documents/projects/challenge/testemario && awk 'NR>=195 && NR<=210' src/app/tabs/schedule/schedule.page.ts",
			"group": "build"
		},
		{
			"label": "check-imports",
			"type": "shell",
			"command": "cd /Users/mariocoxe/Documents/projects/challenge/testemario && awk 'NR>=1 && NR<=100' src/app/tabs/schedule/schedule.page.ts",
			"group": "build"
		},
		{
			"label": "check-file-structure",
			"type": "shell",
			"command": "cd /Users/mariocoxe/Documents/projects/challenge/testemario && wc -l src/app/tabs/schedule/schedule.page.ts && awk 'NR>=1 && NR<=75' src/app/tabs/schedule/schedule.page.ts",
			"group": "build"
		},
		{
			"label": "rewrite-schedule-html",
			"type": "shell",
			"command": "cd /Users/mariocoxe/Documents/projects/challenge/testemario && cat > src/app/tabs/schedule/schedule.page.html << 'HTMLEOF'\n<ion-header>\n  <ion-toolbar>\n    <ion-title>Schedule</ion-title>\n    <ion-buttons slot=\"end\">\n      <ion-button color=\"primary\" (click)=\"openCreate()\">\n        <ion-icon slot=\"start\" name=\"add-outline\"></ion-icon>\n        New Event\n      </ion-button>\n    </ion-buttons>\n  </ion-toolbar>\n</ion-header>\n\n<ion-content class=\"ion-padding\">\n  <div class=\"max-w-3xl mx-auto\">\n    <!-- Header Section -->\n    <div class=\"flex items-center justify-between mb-4\">\n      <div>\n        <h1 class=\"text-2xl font-bold text-gray-900\">{{ monthLabel() }}</h1>\n        <p class=\"text-sm text-gray-500\">{{ currentYear() }}</p>\n      </div>\n\n      <div class=\"flex items-center gap-2\">\n        <ion-button fill=\"clear\" size=\"small\" (click)=\"prevMonth()\">\n          <ion-icon slot=\"icon-only\" name=\"chevron-back-outline\"></ion-icon>\n        </ion-button>\n\n        <ion-button fill=\"outline\" size=\"small\" (click)=\"goToday()\">\n          Today\n        </ion-button>\n\n        <ion-button fill=\"clear\" size=\"small\" (click)=\"nextMonth()\">\n          <ion-icon slot=\"icon-only\" name=\"chevron-forward-outline\"></ion-icon>\n        </ion-button>\n      </div>\n    </div>\n\n    <!-- Calendar Container -->\n    <div class=\"bg-white rounded-2xl shadow-lg border border-gray-100 overflow-hidden\">\n      <!-- Weekday Headers -->\n      <div class=\"grid grid-cols-7 bg-gray-50 border-b border-gray-200\">\n        @for (day of weekdayLabels; track day) {\n          <div class=\"py-3 text-center text-xs font-semibold text-gray-600 uppercase\">\n            {{ day }}\n          </div>\n        }\n      </div>\n\n      <!-- Calendar Grid -->\n      <div class=\"grid grid-cols-7\">\n        @for (week of calendar(); track $index) {\n          @for (cell of week; track cell.iso) {\n            <div\n              class=\"relative min-h-24 border-b border-r border-gray-100 p-2 cursor-pointer hover:bg-gray-50 transition-colors\"\n              [class.bg-orange-50]=\"cell.isToday\"\n              [class.opacity-40]=\"!cell.inMonth\"\n              (click)=\"openCreate(cell.date)\"\n            >\n              <!-- Date Number -->\n              <div class=\"mb-1\">\n                <span\n                  class=\"inline-flex items-center justify-center w-7 h-7 rounded-full text-sm font-semibold\"\n                  [class.bg-orange-500]=\"cell.isToday\"\n                  [class.text-white]=\"cell.isToday\"\n                  [class.text-gray-900]=\"!cell.isToday\"\n                >\n                  {{ cell.date.getDate() }}\n                </span>\n              </div>\n\n              <!-- Events -->\n              <div class=\"space-y-1\">\n                @for (activity of activitiesForDate(cell.iso) | slice:0:2; track activity.id) {\n                  <div\n                    class=\"rounded px-1.5 py-0.5 text-xs font-medium truncate cursor-pointer\"\n                    [ngClass]=\"getActivityColor(activity.type)\"\n                    (click)=\"$event.stopPropagation(); openEdit(activity)\"\n                  >\n                    {{ activity.title }}\n                  </div>\n                }\n                @if (activitiesForDate(cell.iso).length > 2) {\n                  <div class=\"text-xs text-gray-500 font-medium\">\n                    +{{ activitiesForDate(cell.iso).length - 2 }} more\n                  </div>\n                }\n              </div>\n            </div>\n          }\n        }\n      </div>\n    </div>\n  </div>\n\n  <!-- Modal -->\n  <ion-modal [isOpen]=\"modalOpen()\" (didDismiss)=\"closeModal()\">\n    <ng-template>\n      <ion-header>\n        <ion-toolbar>\n          <ion-title>\n            {{ editing() ? 'Edit Event' : 'New Event' }}\n          </ion-title>\n          <ion-buttons slot=\"end\">\n            <ion-button (click)=\"closeModal()\">\n              <ion-icon slot=\"icon-only\" name=\"close-outline\"></ion-icon>\n            </ion-button>\n          </ion-buttons>\n        </ion-toolbar>\n      </ion-header>\n\n      <ion-content class=\"ion-padding\">\n        <div class=\"space-y-4\">\n          <!-- Title -->\n          <div>\n            <label class=\"block text-sm font-semibold text-gray-700 mb-2\">\n              Event Title\n            </label>\n            <ion-input\n              fill=\"outline\"\n              placeholder=\"e.g., Team Meeting...\"\n              [ngModel]=\"form().title\"\n              (ngModelChange)=\"updateForm('title', $event)\"\n            ></ion-input>\n          </div>\n\n          <!-- Date -->\n          <div>\n            <label class=\"block text-sm font-semibold text-gray-700 mb-2\">\n              Date\n            </label>\n            <ion-datetime\n              presentation=\"date\"\n              [value]=\"form().date\"\n              (ionChange)=\"onDateChange($event)\"\n            ></ion-datetime>\n          </div>\n\n          <!-- Time Range -->\n          <div class=\"grid grid-cols-2 gap-4\">\n            <div>\n              <label class=\"block text-sm font-semibold text-gray-700 mb-2\">\n                Start\n              </label>\n              <ion-input\n                type=\"time\"\n                fill=\"outline\"\n                [ngModel]=\"form().start\"\n                (ngModelChange)=\"updateForm('start', $event)\"\n              ></ion-input>\n            </div>\n\n            <div>\n              <label class=\"block text-sm font-semibold text-gray-700 mb-2\">\n                End\n              </label>\n              <ion-input\n                type=\"time\"\n                fill=\"outline\"\n                [ngModel]=\"form().end\"\n                (ngModelChange)=\"updateForm('end', $event)\"\n              ></ion-input>\n            </div>\n          </div>\n\n          <!-- Event Type -->\n          <div>\n            <label class=\"block text-sm font-semibold text-gray-700 mb-3\">\n              Type\n            </label>\n            <div class=\"grid grid-cols-4 gap-2\">\n              @for (type of eventTypes; track type.value) {\n                <button\n                  type=\"button\"\n                  class=\"flex flex-col items-center justify-center p-3 rounded-xl border-2 transition-all text-xs font-medium\"\n                  [class.border-orange-500]=\"form().type === type.value\"\n                  [class.bg-orange-50]=\"form().type === type.value\"\n                  [class.text-orange-700]=\"form().type === type.value\"\n                  [class.border-gray-200]=\"form().type !== type.value\"\n                  [class.text-gray-600]=\"form().type !== type.value\"\n                  (click)=\"updateForm('type', type.value)\"\n                >\n                  <ion-icon [name]=\"type.icon\" class=\"text-lg mb-1\"></ion-icon>\n                  <span>{{ type.label }}</span>\n                </button>\n              }\n            </div>\n          </div>\n\n          <!-- Description -->\n          <div>\n            <label class=\"block text-sm font-semibold text-gray-700 mb-2\">\n              Description\n            </label>\n            <ion-textarea\n              fill=\"outline\"\n              placeholder=\"Add notes...\"\n              [rows]=\"3\"\n              [ngModel]=\"form().description\"\n              (ngModelChange)=\"updateForm('description', $event)\"\n            ></ion-textarea>\n          </div>\n\n          <!-- Actions -->\n          <div class=\"space-y-3 pt-4\">\n            <ion-button expand=\"block\" color=\"primary\" (click)=\"saveActivity()\">\n              <ion-icon\n                slot=\"start\"\n                [name]=\"editing() ? 'checkmark-outline' : 'add-outline'\"\n              ></ion-icon>\n              {{ editing() ? 'Save' : 'Create' }}\n            </ion-button>\n\n            @if (editing()) {\n              <ion-button expand=\"block\" fill=\"outline\" color=\"danger\" (click)=\"deleteActivity()\">\n                <ion-icon slot=\"start\" name=\"trash-outline\"></ion-icon>\n                Delete\n              </ion-button>\n            }\n          </div>\n        </div>\n      </ion-content>\n    </ng-template>\n  </ion-modal>\n</ion-content>\nHTMLEOF",
			"group": "build"
		}
	]
}